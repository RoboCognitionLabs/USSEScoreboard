@{
    ViewData["Title"] = "Home Page";
}
<div class="page-header">
    <h1>SE Scoreboard <small>Do... or do not. There is no try.</small></h1>
</div>

@if (User.Identity.IsAuthenticated)
{
    //Show Dashboard if Logged In
    <div class="container">
        <div class="col-md-8">
            <!-- start table -->
            <table class="table table-striped table-hover table-bordered">
                <thead>
                    <tr>
                        <th style="border-top: 1px solid #fff !important; border-left: 1px solid #fff !important;">&nbsp;</th>
                        <th class="text-center">Weekly Tasks <a href="/Commitments/My"><i class="fa fa-external-link" aria-hidden="true"></i></a></th>
                        <th class="text-center">CRM <a href="https://microsoftcorp9.crm.dynamics.com/main.aspx" title="Launch CRM in new window" target="_blank"><i class="fa fa-external-link" aria-hidden="true"></i></a></th>
                        <th class="text-center">Expenses <a href="http://msexpense2" title="Launch Expenses in new window" target="_blank"><i class="fa fa-external-link" aria-hidden="true"></i></a></th>
                        <th class="text-center">FRI <a href="http://aka.ms/roleguide" title="Launch Role Guide in new window" target="_blank"><i class="fa fa-external-link" aria-hidden="true"></i></a></th>
                        @*<th class="text-center">Presentations</th>
                        <th class="text-center">Ascend Working</th>*@
                    </tr>
                </thead>
                @* Start TE Table *@

                @foreach (UserScore UserScore in ViewBag.Team)
                {
                    <tr>
                        <td width="28%">@UserScore.FullName</td>
                        <td width="18%" class="text-center">
                            <a asp-controller="Commitments" asp-action="SearchByUser" asp-route-id="@UserScore.UserProfileId" class="btn @(UserScore.CommitCompleted == UserScore.CommitTotal && UserScore.CommitCompleted > 0 ? "btn-success" : "btn-primary") btn-xs">
                                @UserScore.CommitCompleted
                                of
                                @UserScore.CommitTotal
                            </a>
                        </td>
                        <td class="text-center" width="18%">
                            @if (UserScore.IsCRM)
                            {
                                <button class="btn btn-success btn-xs"><span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span></button>
                            }
                            else
                            {
                                <button class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span></button>
                            }
                        </td>
                        <td class="text-center" width="18%">
                            @if (UserScore.IsExpenses)
                            {
                                <button class="btn btn-success btn-xs"><span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span></button>
                            }
                            else
                            {
                                <button class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span></button>
                            }
                        </td>
                        <td class="text-center" width="18%">
                            @if (UserScore.IsFRI)
                            {
                                <button class="btn btn-success btn-xs"><span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span></button>
                            }
                            else
                            {
                                <button class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span></button>
                            }
                        </td>
                        @*<td width="16%" class="text-center"><a href="#" class="badge">@UserScore.TotalPresentations</a></td>
                        <td width="16%" class="text-center"><a href="#" class="badge">@UserScore.TotalAscend</a></td>*@
                    </tr>
                }

                @* // End TE Table *@

            </table>
            <!-- end TE table -->
        </div>
        <div class="col-md-4">
            <!-- start global score panel -->
            <div class="panel panel-primary">
                <div class="panel-heading">
                    South East Team Totals
                </div>
                @*<div class="panel-body">*@
                    <table class="table table-striped">
                        <tr>
                            <td>Total Presentations:</td>
                            <td><span class="badge">@ViewBag.TotalPresentations</span></td>
                        </tr>
                        <tr>
                            <td>Ascend Active:</td>
                            <td><span class="badge">@ViewBag.TotalAscendActive</span></td>
                        </tr>
                        <tr>
                            <td>Ascend Complete:</td>
                            <td><span class="badge">@ViewBag.TotalAscendComplete</span></td>
                        </tr>
                    </table>
                @*</div>*@
            </div>
            <!-- end global score panel-->            
        </div>
    </div>

}
else
{
    //Not Logged In Do not Show
    <div class="alert alert-warning">
        <span class="glyphicon glyphicon-warning-sign"></span>
        Please <a asp-controller="Account" asp-action="Login">login</a> to access the Dashboard
    </div>
}


